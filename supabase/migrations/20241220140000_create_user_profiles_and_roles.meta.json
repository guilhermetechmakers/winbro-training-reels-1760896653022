{
  "migration_name": "20241220140000_create_user_profiles_and_roles",
  "created_at": "2024-12-20T14:00:00Z",
  "description": "Create comprehensive user authentication, authorization, and profile management system",
  "tables_created": [
    "user_profiles",
    "user_roles", 
    "user_sessions",
    "password_reset_tokens",
    "email_verification_tokens"
  ],
  "tables_modified": [],
  "tables_deleted": [],
  "breaking_changes": false,
  "rollback_sql": "DROP TRIGGER IF EXISTS on_user_profile_created ON user_profiles; DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users; DROP FUNCTION IF EXISTS assign_default_role(); DROP FUNCTION IF EXISTS create_user_profile(); DROP FUNCTION IF EXISTS cleanup_expired_tokens(); DROP TABLE IF EXISTS email_verification_tokens CASCADE; DROP TABLE IF EXISTS password_reset_tokens CASCADE; DROP TABLE IF EXISTS user_sessions CASCADE; DROP TABLE IF EXISTS user_roles CASCADE; DROP TABLE IF EXISTS user_profiles CASCADE;",
  "estimated_rows": 0,
  "requires_downtime": false
}
